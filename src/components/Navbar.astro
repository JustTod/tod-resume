---
import SunMoon from '../assets/sun-moon.svg';
---

<nav>
  <div class="navbarContainer">
    <div class="navbarLogo">
      <a href="/">
        <img src="./logo.png" alt="logo" />
      </a>
      <h1>Tod</h1>
    </div>
    <div class="navbarLinks">
      <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
        <SunMoon color="var(--text-color)" style="width: 24px; height: 24px;" />
      </button>
      <a href="https://github.com/JustTod/tod-resume" target="_blank">Github</a>
      <a href="https://www.linkedin.com/in/wat-todsaporn/" target="_blank"
        >LinkedIn</a
      >
    </div>
  </div>
</nav>

<style>
  .navbarContainer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    padding: 1rem;
    background-color: var(--bg-secondary);
    transition: background-color 0.3s ease;
    h1 {
      margin: 0;
      color: var(--text-color);
    }
  }

  .navbarLogo {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .navbarLinks {
    gap: 1rem;
    display: flex;
    align-items: center;
  }

  .theme-toggle {
    background: none;
    border: none;
    padding: 0.5rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: opacity 0.2s ease;
  }

  .theme-toggle:hover {
    opacity: 0.7;
  }

  .theme-toggle:focus {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
    border-radius: 0.25rem;
  }
</style>

<script>
  const themeToggle = document.getElementById('theme-toggle');

  themeToggle?.addEventListener('click', () => {
    const currentTheme = document.documentElement.getAttribute('data-theme');
    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';

    // Apply new theme
    document.documentElement.setAttribute('data-theme', newTheme);

    // Save to localStorage
    localStorage.setItem('theme', newTheme);
  });
</script>
