---
import Item from './Item.astro';
import Title from './Title.astro';

const experiences = [
  {
    company: 'BMW Leasing Thailand',
    dates: 'Feb 2024 - Present',
    jobTitle: 'BUSINESS ANALYST | PROJECT MANAGER | DEVOPS ENGINEER',
    description:
      'Be an IT representative to align the business requirement with the development team on a global solution. Improve the workflow and patching security and lead vendor on a local application.',
    projects: [
      {
        title: 'AI OCR Project',
        accomplishments: [
          "Reviewed a purpose solution, and security assessment from a vendor to ensure it meets the business's needs.",
          'Documented a requirement and align with Business, in-house development team and vendor. To reduce communication overhead',
          'Tracking and summarize an issue on UAT period to ensure the solution is working as expected and be able to release on planned schedule.',
        ],
      },
      {
        title: 'IFRS9 project',
        accomplishments: [
          'Contributed to the resolution deployment, reducing delinquency by nearly 60%, using my technical expertise to review the solution, accelerating implementation by a month.',
          'Document a change on a Confluence page for a future reference. in case of any future changes or questions.',
        ],
      },
      {
        title: 'Credit Scoring Project',
        accomplishments: [
          'Involved in Credit scoring implementation, which followed Bank of Thailand (BOT) standards. Translated complex business requirements into clear technical instructions for developers, enabling them to complete development within a week.',
          'Ensure the change is working as expected by translating a code to communicate with Business owner',
        ],
      },
      {
        title: 'EKYC project',
        accomplishments: [
          'Planned and estimated a project’s timeline for the crucial EKYC project in the new business department, ensuring timely delivery by guiding the vendor with technical expertise.',
          'Optimized cloud services, reducing costs by approximately 30% per month.',
          'Document and convert a business requirement into Jira ticket for a development team to follow.',
        ],
      },
      {
        title: 'Finance Calculation Project',
        accomplishments: [
          'Implemented an automated deployment process to cut daily deployment time by 80%.',
          'Streamlined operations by documenting processes and training the maintenance vendor to work independently, saving the team’s members at least 30 minutes per week',
          'Negotiated with the vendor to reduce the cost of the project enhancements over half a million baht in total by using a documented system function.',
          'Aware of Regulation of Bank of Thailand (BOT), and then scheduled a meeting with the Business unit to discuss the implementation of the regulation. Using a BRD to document the requirement and the implementation.',
          'Queried a CVE and vulnerabilities then create a ticket to the development team to fix the issue.',
        ],
      },
    ],
  },
  {
    company: 'DELTA DYNAMIC THAILAND',
    dates: 'Mar 2023 - Jan 2024',
    jobTitle: 'PROJECT MANAGER | FULLSTACK DEVELOPER',
    description:
      'Working with a British start-up tech transformation company, which has a client around the globe. Mainly, apply technology tools, such as Salesforce, Sendbird and more to suit customer needs.',
    projects: [
      {
        title: 'Finance Calculation Project',
        accomplishments: [
          'Coordinated between the client and subvendor to optimize resource management, performing task breakdowns to effectively manage costs, and reducing outsourced man-day expenses by at least 20%',
          'Performed task breakdowns to effectively manage costs, and reducing outsourced man-day expenses by at least 20%, Using Jira to manage the project and the tasks.',
          'Served as the primary liaison between the client and our development team, managing negotiations and breaking down customer requests into smaller tasks to fit into a 2-week sprint instead of a monthly or quarterly release. Also utilized transparent project management tools like Jira to maintain clear alignment with the customer.',
          'Developed a comprehensive reporting system using AWS Athena and Amazon QuickSight to provide stakeholders with real-time insights and analytics.',
        ],
      },
      {
        title: 'Text based game project',
        accomplishments: [
          "Worked closely with the product owner to understand the client's needs and goals.",
          'Documented a operation process on Confluence. and coding a script to automate the process.',
        ],
      },
      {
        title: 'Informative website project',
        accomplishments: [
          'Using Low code platform to build the informative website for the client. and connect with the client Salesforce CRM.',
        ],
      },
    ],
  },
  {
    company: 'FORVIZ',
    dates: 'Dec 2020 - Feb 2023',
    jobTitle: 'PROJECT MANAGER | FULLSTACK DEVELOPER',
    description:
      'In late 2020, I worked across all aspects of software development, from gathering customer requirements as a BA to project planning, then coding and including selecting the technical stack of the upcoming project',
    projects: [
      {
        title: 'Building Facility Project',
        accomplishments: [
          'Created a website mockup and converted it into a wireframe, streamlining customer approvals for a contract worth over a million Baht while reducing designer workload by approximately 50% compared to regular projects.',
          'Facilitated customer meetings by providing clear options, guiding discussions to ensure alignment, and documenting meeting minutes to help conclude meetings within the set timeframe.',
        ],
      },
      {
        title: 'Finance Calculation Project',
        accomplishments: [
          'Implemented AWS EventBridge and a serverless architecture to automate report generation for customers, eliminating the need for manually assigning tasks to developers daily.',
          'Developed a customer website with a React and Material UI frontend, leveraging TypeScript and a serverless backend',
          "Stepped in during a client event after an administrator's accident, I took over critical tasks to ensure smooth operations, prevent disruptions, and save my coworkers valuable time by using Jira to centralize all accidents.",
        ],
      },
      {
        title: 'Analytics Report Project',
        accomplishments: [
          'Conducted a meeting with the client to understand their needs and goals for the analytics report. Then document it to Confluence.',
          "Working the way back from the client's needs to the technical implementation, I was able to deliver a system that met the client's expectations.",
        ],
      },
      {
        title: 'Customer CMS Website',
        accomplishments: [
          'Developed a customer CMS website with a React and SCSS frontend.',
          'Migrated the website content from a legacy CMS to the new built website by using a serverless script.',
        ],
      },
    ],
  },
  {
    company: 'Moreloop',
    dates: 'Aug 2019 - Nov 2020',
    jobTitle: 'JUNIOR PROJECT MANAGER',
    description:
      'Environment is what I focus on. Moreloop is an eco-friendly start-up with the main idea of circularising the surplus fabric left all over the garment factory in Thailand. This job opportunity has provided me with business logic and management skills.',
    projects: [
      {
        title:
          "Designed a supply chain-style workflow to automate and streamline the process of pushing over 200 SKUs to the startup's website each month, ensuring efficiency and consistency.",
      },
      {
        title:
          'Developed an inventory system to help the company organize and categorize products efficiently, reducing shipping time by at least one day',
      },
    ],
  },
  {
    company: 'Australia',
    dates: 'Aug 2018 - Jul 2019',
    jobTitle: 'Work and Holiday',
    description:
      'Worked in Australia as a casual worker in a cafe and a restaurant.',
  },
  {
    company: 'Uber Eats Thailand',
    dates: 'Aug 2017 - Mar 2018',
    jobTitle: 'Photographer',
    description:
      "Aligned between Uber Eats' business user and Restaurant owner to ensure the delivery a quality image to the platform.",
  },
  {
    company: 'TED x Bangkok',
    dates: '2016 & 2017',
    jobTitle: 'volunteer',
    description:
      'Volunteered to help the event from start to feedback session, such as planning a time slot for the speaker, and connecting an attendee with an attendee, staff or speaker.',
  },
  {
    company: 'More than a game cafe',
    dates: 'Nov 2015 - Jul 2018',
    jobTitle: 'Board Game Master',
    description:
      'Assisted a customer to present a game to a customer both in sales and game explanation.',
  },
  {
    company: 'Stelligence',
    dates: 'Mar 2014 - Jul 2014',
    jobTitle: 'Intern',
    description:
      'Environment is what I focus on. Moreloop is an eco-friendly start-up with the main idea of circularising the surplus fabric left all over the garment factory in Thailand. This job opportunity has provided me with business logic and management skills.',
    projects: [
      {
        title:
          'Documented and Translated a new equipment manual for a new product to the local language.',
      },
      {
        title:
          'Migrated a legacy system data to a new system by using a migration script.',
      },
    ],
  },
];
---

<section class="item-list">
  <div class="item-list-container">
    <div class="item-list-header">
      <Title title="Experiences" />
      <button class="expand-all-btn" id="expand-all-btn">Expand All</button>
    </div>
    <div class="item-list-items">
      {
        experiences.map((experience) => (
          <Item
            company={experience.company}
            dates={experience.dates}
            jobTitle={experience.jobTitle}
            description={experience.description}
            projects={experience.projects}
          />
        ))
      }
    </div>
  </div>
</section>

<script>
  const expandAllBtn = document.getElementById('expand-all-btn');
  const detailsElements = document.querySelectorAll<HTMLDetailsElement>(
    '.item-list-items details'
  );
  let allExpanded = false;

  expandAllBtn?.addEventListener('click', () => {
    allExpanded = !allExpanded;

    detailsElements.forEach((details) => {
      details.open = allExpanded;
    });

    expandAllBtn.textContent = allExpanded ? 'Collapse All' : 'Expand All';
    expandAllBtn.classList.toggle('collapsed', allExpanded);
  });
</script>

<style>
  .item-list {
    padding: 4rem 0;
    background-color: #fffffe;
  }

  .item-list-container {
    max-width: 1200px;
    width: 100%;
    margin: 0 auto;
  }

  .item-list-header {
    display: flex;
    justify-content: space-between;
    align-items: start;
    margin-bottom: 1rem;
    gap: 1rem;
  }

  .expand-all-btn {
    padding: 0.5rem 1rem;
    color: var(--color-primary);
    background-color: transparent;
    border-radius: 0.25rem;
    border: 1px solid var(--color-primary);
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .expand-all-btn.collapsed {
    color: #ffffff;
    background-color: var(--color-primary);
  }

  .item-list-items {
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }

  @media (max-width: 768px) {
    .item-list {
      padding: 2rem 1rem;
    }

    .item-list-header {
      flex-direction: column;
      align-items: flex-start;
      gap: 1rem;
    }

    .expand-all-btn {
      width: 100%;
      padding: 0.75rem 1rem;
    }

    .item-list-title {
      font-size: 2rem;
    }
  }
</style>
